# -*- coding: utf-8 -*-
"""
æŠ–éŸ³çƒ­æœç›‘æ§ç³»ç»Ÿé…ç½®æ–‡ä»¶

âš ï¸ é‡è¦ï¼šè¯·æŒ‰ç…§ä¸‹æ–¹è¯´æ˜é…ç½® Cookie å’Œ msToken
"""

import os

# ============================================================
# åŸºç¡€è·¯å¾„é…ç½®
# ============================================================
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
DATA_DIR = os.path.join(BASE_DIR, 'data')

# æ•°æ®åº“é…ç½®
DATABASE_PATH = os.path.join(DATA_DIR, 'douyin.db')

# ============================================================
# æŠ–éŸ³ API é…ç½®
# ============================================================
DOUYIN_HOT_URL = 'https://www.douyin.com/hot'
DOUYIN_HOT_API = 'https://www.douyin.com/aweme/v1/web/hot/search/list/'

# ============================================================
# ğŸ” è®¤è¯ä¿¡æ¯é…ç½®ï¼ˆéœ€è¦æ‰‹åŠ¨å¡«å†™ï¼‰
# 
# ğŸ“– è·å–æ–¹æ³•ï¼š
# 1. ä½¿ç”¨ Chrome æµè§ˆå™¨æ‰“å¼€ https://www.douyin.com/hot
# 2. ç™»å½•ä½ çš„æŠ–éŸ³è´¦å·ï¼ˆå¯é€‰ï¼Œä¸ç™»å½•ä¹Ÿèƒ½ç”¨ï¼Œä½†æ•°æ®å¯èƒ½å—é™ï¼‰
# 3. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
# 4. åˆ‡æ¢åˆ° "Network"ï¼ˆç½‘ç»œï¼‰æ ‡ç­¾é¡µ
# 5. åˆ·æ–°é¡µé¢ (Ctrl+R / Cmd+R)
# 6. åœ¨è¯·æ±‚åˆ—è¡¨ä¸­æ‰¾åˆ° "list" å¼€å¤´çš„è¯·æ±‚
# 7. ç‚¹å‡»è¯¥è¯·æ±‚ï¼Œåœ¨å³ä¾§é¢æ¿æ‰¾åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š
#
# è·å– Cookie:
#   - åœ¨ "Headers" æ ‡ç­¾ â†’ "Request Headers" â†’ æ‰¾åˆ° "Cookie"
#   - å¤åˆ¶æ•´ä¸ª Cookie å€¼
#
# è·å– msToken:
#   - åœ¨ "Payload"ï¼ˆè½½è·ï¼‰æˆ– URL å‚æ•°ä¸­æ‰¾åˆ° msToken
#   - æˆ–è€…åœ¨ Cookie ä¸­æ‰¾åˆ° msToken=xxx çš„å€¼
#
# è·å– webid:
#   - åœ¨ URL å‚æ•°ä¸­æ‰¾åˆ° webid çš„å€¼
#
# ============================================================

# ğŸª Cookie - ä»æµè§ˆå™¨å¤åˆ¶çš„å®Œæ•´ Cookie
# ç¤ºä¾‹æ ¼å¼: "ttwid=xxx; passport_csrf_token=xxx; ..."
COOKIE = ""

# ğŸ”‘ msToken - é‡è¦çš„è®¤è¯å‚æ•°
MSTOKEN = ""

# ğŸ†” WebID - è®¾å¤‡æ ‡è¯†
WEBID = ""

# ============================================================
# è¯·æ±‚å¤´é…ç½®
# ============================================================
HEADERS = {
    'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
    'Accept': 'application/json, text/plain, */*',
    'Accept-Language': 'zh-CN,zh;q=0.9',
    'Referer': 'https://www.douyin.com/',
}

# ============================================================
# æŠ“å–é…ç½®
# ============================================================

# æŠ“å–é—´éš”ï¼ˆåˆ†é’Ÿï¼‰- å»ºè®®ä¸ä½äº 10 åˆ†é’Ÿ
SCRAPE_INTERVAL_MINUTES = 10

# æ˜¯å¦å¯ç”¨æ¼”ç¤ºæ•°æ®å›é€€ï¼ˆå½“ API å’Œ HTML éƒ½å¤±è´¥æ—¶ä½¿ç”¨æœ¬åœ°æ ·æœ¬æ•°æ®ï¼‰
ENABLE_DEMO_FALLBACK = True

# ============================================================
# Flask é…ç½®
# ============================================================
FLASK_HOST = '0.0.0.0'
FLASK_PORT = 5001
FLASK_DEBUG = True
